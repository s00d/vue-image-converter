(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],h=0,g=[];h<r.length;h++)o=r[h],a[o]&&g.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(g.length)g.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==a[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},a={1:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;s.push([2,0]),i()})({2:function(t,e,i){t.exports=i("Vtdi")},Vtdi:function(t,e,i){"use strict";i.r(e);i("VRzm");var n=i("Kw5r"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},s=[],o=(i("nNx0"),i("KHd+")),r={},c=Object(o["a"])(r,a,s,!1,null,null,null),l=c.exports,u=i("jE9Z"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 pt-3 px-4",attrs:{role:"main"},on:{dragover:function(t){t.preventDefault()},drop:t.onFileChange,dblclick:function(e){t.$refs["image_"].click()}}},[i("ImageView",{attrs:{imgUrl:t.image,invert:t.invert,range:parseInt(t.range),width:parseInt(t.size.width),height:parseInt(t.size.height),quality:parseInt(t.quality),type:t.types[t.selectType],preview:t.preview}}),i("input",{ref:"image_",attrs:{type:"file",accept:".png,.jpeg,.jpg,.bmp,.gif,.tiff",hidden:""},on:{change:t.onFileChange}}),i("div",{staticClass:"btn btn-primary btn-block",on:{click:function(e){t.$refs["image_"].click()}}},[t._v("open image")])],1),i("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[i("div",{staticClass:"sidebar-sticky"},[i("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"formControlRange"}},[t._v("Color:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.range,expression:"range"}],staticClass:"form-control-range",attrs:{type:"range"},domProps:{value:t.range},on:{__r:function(e){t.range=e.target.value}}})])]),i("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[i("div",{staticClass:"form-group",staticStyle:{"padding-left":"20px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.invert,expression:"invert"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.invert)?t._i(t.invert,null)>-1:t.invert},on:{change:function(e){var i=t.invert,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=null,o=t._i(i,s);n.checked?o<0&&(t.invert=i.concat([s])):o>-1&&(t.invert=i.slice(0,o).concat(i.slice(o+1)))}else t.invert=a}}}),i("label",{staticClass:"form-check-label"},[t._v("\n              Invert\n            ")])])]),i("h6",{staticClass:"sidebar-heading justify-content-between px-3 mt-4 mb-1 text-muted"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"form-group"},[i("label",[t._v("Width")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.size.width,expression:"size.width"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.size.width},on:{input:function(e){e.target.composing||t.$set(t.size,"width",e.target.value)}}})])]),i("div",{staticClass:"col-12"},[i("div",{staticClass:"form-group"},[i("label",[t._v("Height")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.size.height,expression:"size.height"}],staticClass:"form-control",attrs:{type:"number",disabled:t.size.auto},domProps:{value:t.size.height},on:{input:function(e){e.target.composing||t.$set(t.size,"height",e.target.value)}}})])]),i("hr"),i("div",{staticClass:"col-12 form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.size.auto,expression:"size.auto"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.size.auto)?t._i(t.size.auto,null)>-1:t.size.auto},on:{change:function(e){var i=t.size.auto,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=null,o=t._i(i,s);n.checked?o<0&&t.$set(t.size,"auto",i.concat([s])):o>-1&&t.$set(t.size,"auto",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.size,"auto",a)}}}),i("label",{staticClass:"form-check-label",attrs:{for:"defaultCheck1"}},[t._v("Auto")])])]),i("h6",{staticClass:"sidebar-heading justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[i("div",{staticClass:"form-group"},[i("label",[t._v("Example select")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectType,expression:"selectType"}],staticClass:"form-control",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectType=e.target.multiple?i:i[0]}}},t._l(t.types,function(e,n){return i("option",{key:n,domProps:{textContent:t._s(n)}})}))]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"formControlRange"}},[t._v("Quality:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.quality,expression:"quality"}],staticClass:"form-control-range",attrs:{type:"range"},domProps:{value:t.quality},on:{__r:function(e){t.quality=e.target.value}}})])]),i("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.$events.$emit("SAVE_IMAGE")}}},[t._v("Save")])])])])])])},g=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"imgWrapper",staticClass:"imgWrapper",style:t.styleObjectWrapper,on:{mouseover:t.onMouseOver}},[i("div",{style:t.styleObjectImg,on:{mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseout:t.onMouseOut,mouseover:t.onMouseOver}}),i("span",{directives:[{name:"show",rawName:"v-show",value:t.onMouseOverFlag,expression:"onMouseOverFlag"}],style:t.styleObjectHandle,on:{mouseover:t.onMouseOver,mouseout:t.onMouseOut}},[i("i",{staticClass:"blue fas fa-redo",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.rotateLeft(e)}}}),i("i",{staticClass:"blue fas fa-undo",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.rotateRight(e)}}})])])},d=[],p=(i("KKXr"),i("xfY5"),{name:"ImageView",props:{imgUrl:{type:String,default:""},invert:{type:Boolean,default:!1},range:{type:Number,default:0},width:{type:[Number,Boolean],default:0},height:{type:[Number,Boolean],default:0},quality:{type:Number,default:100},type:{type:String,default:"image/png"},preview:{type:Boolean,default:!1}},data:function(){return{computedHeight:"",computedWidth:"",imgWidth:0,imgHeight:0,onMouseDownFlag:!1,onMouseOverFlag:!1,degrees:0,styleObjectWrapper:{overflow:"hidden",position:"relative",marginBottom:"10px",height:"500px"},styleObjectImg:{backgroundImage:"",backgroundRepeat:"no-repeat",backgroundSize:"0px 0px",backgroundPosition:"center",width:"100%",height:"100%",transform:"rotate(0deg)",transformOrigin:"center",position:"absolute"},styleObjectHandle:{textAlign:"center",position:"absolute",userSelect:"none",right:"10px",bottom:"10px"}}},watch:{imgUrl:function(){var t=this;this.$nextTick(function(){t.styleObjectImg.backgroundImage="url("+t.imgUrl+")",t.init().then(function(){t.updateStyle()})})},range:function(){this.styleObjectImg.filter="grayscale("+this.range+"%) invert("+(this.invert?1:0)+")",this.styleObjectImg["-webkit-filter"]="grayscale("+this.range+"%) invert("+(this.invert?1:0)+")"},invert:function(){this.styleObjectImg.filter="grayscale("+this.range+"%) invert("+(this.invert?1:0)+")",this.styleObjectImg[" -webkit-filter"]="grayscale("+this.range+"%) invert("+(this.invert?1:0)+")"},width:function(){this.updateStyle()},height:function(){this.updateStyle()},type:function(){this.updateSize()},quality:function(){this.updateSize()}},created:function(){var t=this;this.$events.$on("SAVE_IMAGE",function(){var e=new Image;e.onload=function(){var i=document.createElement("canvas");i.style.filter="grayscale("+t.range+"%) invert("+(t.invert?1:0)+")";var n=i.getContext("2d");i.width=t.width,i.height=t.height;n.drawImage(e,0,0,i.width,i.height);var a=n.getImageData(0,0,i.width,i.height),s=a.data;if(t.invert){for(var o=0;o<s.length;o+=4)s[o]=255-s[o],s[o+1]=255-s[o+1],s[o+2]=255-s[o+2];n.putImageData(a,0,0)}if(t.range>0){for(o=0;o<s.length;o+=4){var r=(s[o]+s[o+1]+s[o+2])/3;s[o]=r,s[o+1]=r,s[o+2]=r}n.putImageData(a,0,0)}if(t.degrees>0)Math.PI,degrees,Math.PI;var c=document.createElement("a");c.setAttribute("href",i.toDataURL(t.type,parseInt(parseInt(t.quality)/100))),c.setAttribute("download","image_load."+t.type.split("/")[1]),c.click(),s=a=n=i=c=null},e.src=t.imgUrl})},mounted:function(){var t=this;this.init().then(function(){t.updateStyle()})},updated:function(){var t=this;0===parseInt(this.computedWidth)&&this.init().then(function(){t.updateStyle()})},methods:{init:function(){var t=this;return new Promise(function(e,i){var n=new Image;n.src=t.imgUrl,n.onload=function(){t.imgWidth=n.width,t.imgHeight=n.height,t.get=!0,e()},n.onerror=function(){t.get=!1,i()}})},updateStyle:function(){var t=this;this.$nextTick(function(){t.computedHeight=t.$refs.imgWrapper.offsetHeight,t.computedWidth=t.$refs.imgWrapper.offsetWidth,t.computedHeight/t.computedWidth<t.height/t.width?(t.imgWidth=t.width*t.computedHeight/t.height,t.imgHeight=t.computedHeight):(t.imgHeight=t.height*t.computedWidth/t.width,t.imgWidth=t.computedWidth),t.styleObjectImg.backgroundImage="url("+t.imgUrl+")",t.styleObjectImg.transform="rotate(0deg)",t.styleObjectImg.width=t.computedWidth+"px",t.styleObjectImg.height=t.computedHeight+"px",t.styleObjectImg.left="0px",t.styleObjectImg.top="0px",t.styleObjectImg.backgroundSize=t.imgWidth+"px "+t.imgHeight+"px",t.styleObjectImg.backgroundPosition=(t.computedWidth-t.imgWidth)/2+"px "+(t.computedHeight-t.imgHeight)/2+"px"})},updateSize:function(){var t=this;if(this.preview){var e=new Image;e.onload=function(){var i=document.createElement("canvas");i.style.filter="grayscale("+t.range+"%) invert("+(t.invert?1:0)+")";var n=i.getContext("2d");i.width=t.width,i.height=t.height,n.drawImage(e,0,0,i.width,i.height),t.imgUrl=i.toDataURL(t.type,parseInt(parseInt(t.quality)/100))},e.src=this.imgUrl}},onMouseDown:function(){this.onMouseDownFlag=!0},onMouseUp:function(){this.onMouseDownFlag=!1},onMouseOver:function(){this.onMouseOverFlag=!0},onMouseOut:function(){this.onMouseOverFlag=!1,this.onMouseDownFlag=!1},rotate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-90,e=(parseInt(this.styleObjectImg.transform.split("(")[1])+t)%360;e<0&&(e+=360),this.degrees+=t,this.styleObjectImg.transform="rotate("+e+"deg)",e%180==90?(this.styleObjectImg.width=this.computedHeight+"px",this.styleObjectImg.height=this.computedWidth+"px",this.styleObjectImg.left=Math.abs(parseInt(this.computedHeight)-parseInt(this.computedWidth))/2+"px",this.styleObjectImg.top=(this.computedHeight-this.computedWidth)/2+"px",this.computedHeight/this.computedWidth<this.imgWidth/this.imgHeight?(this.imgHeight=this.imgHeight*this.computedHeight/this.imgWidth,this.imgWidth=this.computedHeight):(this.imgWidth=this.imgWidth*this.computedWidth/this.imgHeight,this.imgHeight=this.computedWidth),this.styleObjectImg.backgroundSize=this.imgWidth+"px "+this.imgHeight+"px",this.styleObjectImg.backgroundPosition=(this.computedHeight-this.imgWidth)/2+"px "+(this.computedWidth-this.imgHeight)/2+"px"):(this.styleObjectImg.width=this.computedWidth+"px",this.styleObjectImg.height=this.computedHeight+"px",this.styleObjectImg.left="0px",this.styleObjectImg.top="0px",this.computedHeight/this.computedWidth<this.imgHeight/this.imgWidth?(this.imgWidth=this.imgWidth*this.computedHeight/this.imgHeight,this.imgHeight=this.computedHeight):(this.imgHeight=this.imgHeight*this.computedWidth/this.imgWidth,this.imgWidth=this.computedWidth),this.styleObjectImg.backgroundSize=this.imgWidth+"px "+this.imgHeight+"px",this.styleObjectImg.backgroundPosition=(this.computedWidth-this.imgWidth)/2+"px "+(this.computedHeight-this.imgHeight)/2+"px")},rotateLeft:function(){this.rotate(-90)},rotateRight:function(){this.rotate(90)},onDragStart:function(){return!1}}}),f=p,v=(i("n+1e"),Object(o["a"])(f,m,d,!1,null,"1c7a85e8",null)),b=v.exports,y={name:"home",data:function(){return{image:"",range:0,invert:!1,size:{mWidth:0,mHeight:0,width:0,height:0,auto:!0},types:{png:"image/png",bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",tiff:"image/tiff"},selectType:"png",quality:100,preview:!1}},watch:{"size.width":function(t){if(this.size.auto&&t!==this.size.mWidth&&0!==this.size.mWidth){var e=100/parseInt(this.size.mWidth)*parseInt(t);isNaN(e)||(this.size.height=parseInt(this.size.mHeight/100*e))}}},methods:{onFileChange:function(t){var e=this;t.stopPropagation(),t.preventDefault();var i=t.target.files||t.dataTransfer.files;if(i.length){var n=new Image;n.onload=function(){e.size.width=e.size.mWidth=n.width,e.size.height=e.size.mHeight=n.height,e.image=URL.createObjectURL(i[0])},n.src=URL.createObjectURL(i[0])}}},components:{ImageView:b}},w=y,x=Object(o["a"])(w,h,g,!1,null,null,null),I=x.exports,O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},j=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about"},[i("h1",[t._v("This is an about page")])])}],W={},k=Object(o["a"])(W,O,j,!1,null,null,null),C=k.exports;n["a"].use(u["a"]);var H=new u["a"]({routes:[{path:"/",name:"home",component:I},{path:"/about",name:"about",component:C}]}),_=i("L2JU");n["a"].use(_["a"]);var z=new _["a"].Store({state:{},mutations:{},actions:{}}),M=i("lIOY");Object(M["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["a"].config.productionTip=!1,n["a"].Events=n["a"].prototype.$events=new n["a"]({}),new n["a"]({router:H,store:z,render:function(t){return t(l)}}).$mount("#app")},gJFD:function(t,e,i){},"n+1e":function(t,e,i){"use strict";var n=i("gJFD"),a=i.n(n);a.a},nNx0:function(t,e,i){"use strict";var n=i("uWEC"),a=i.n(n);a.a},uWEC:function(t,e,i){}});
//# sourceMappingURL=app.291a3bb2.js.map